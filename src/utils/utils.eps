function getNextGeneratedUnit() {
    return dwepdread_epd(EPD(0x628438));
}

function setUnitPassable(unitepd) {
    var statusFlag = dwread_epd(unitepd + 0xDC / 4);
    SetMemoryEPD(unitepd + 0xDC / 4, SetTo, statusFlag | 0x200000);
}

function createPassableUnit(unitType: TrgUnit, location: TrgLocation, player: TrgPlayer) {
    const uepd = getNextGeneratedUnit()[[1]];
    CreateUnit(1, unitType, location, player);
    setUnitPassable(uepd);
}


function updateMinimap() {
    for(var player = 0 ; player < 6 ; player++) {
        SetCurrentPlayer(player);
        MinimapPing("minimapPing");
    }
}

function clearRepulseMap() {
    const reph_epd = epdread_epd(EPD(0x6D5CD8));
    for(var i = 0 ; i < 29244 / 4 ; i++) {
        SetMemoryEPD(reph_epd + i, SetTo, 0);
    }
}