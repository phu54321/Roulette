import utils.loc;
import utils.utils;

function translateScanToPosition() {
    for(var epd = EPD(0x59CCA8) ; epd < EPD(0x59CCA8 + 1700 * 336) ; epd += 336 / 4) {
        if(MemoryEPD(epd + 0x0C / 4, AtLeast, 1) && MemoryEPD(epd + 0x64 / 4, Exactly, $U("Scan"))) {
            const scanX, scanY = dwbreak(dwread_epd(epd + 0x28 / 4))[[0, 1]];
            const scanPlayer = bread_epd(epd + 0x4C / 4, 0);
            loc.pxMoveTo(scanX, scanY);
            utils.createPassableUnit("ScanPos", "pxMove", scanPlayer);
        }
    }
    RemoveUnit("Scan", AllPlayers);
}
